<section class="order-confirmation-section">
  <div class="container py-5">
    <div class="row d-flex justify-content-center align-items-center">
      <div class="col-lg-10 col-xl-8">
        <div class="card order-card">
          <div class="card-header px-4 py-5 text-center">
            <i class="fas fa-check-circle text-success mb-3" style="font-size: 3rem;"></i>
            <h3 class="mb-2">Thanks for your Order<span style="color: #007bff;"> !</span></h3>
            <p class="text-muted mb-3">Your order has been placed and is being processed</p>
            <a href='/orders' class="btn btn-outline-primary mt-2">View My Orders</a>
          </div>
          <div class="card-body p-4">
            <div class="d-flex justify-content-between align-items-center mb-4">
              <h4 class="fw-bold mb-0" style="color: #333;">Order Summary</h4>
              <p class="small text-muted mb-0">Order #: ORD-{{orderNumber}}</p>
            </div>

            {{#each orderdetails}}
            <div class="card product-card shadow-sm border mb-4">
              <div class="card-body">
                <div class="row align-items-center">
                  <div class="col-md-2">
                    <div class="image_wrapper">
                      <img src="../images/product-images/{{this.orderdetail._id}}.jpg" class="img-fluid" alt="{{this.orderdetail.pname}}">
                    </div>
                  </div>
                  <div class="col-md-4">
                    <h5 class="mb-1">{{this.orderdetail.pname}}</h5>
                    <p class="mb-0 small text-muted">{{this.orderdetail.brand}}</p>
                  </div>
                  <div class="col-md-2 text-center">
                    <p class="mb-0 small">₹{{this.orderdetail.price}}</p>
                  </div>
                  <div class="col-md-2 text-center">
                    <p class="mb-0 small">Qty. {{this.quantity}}</p>
                  </div>
                  <div class="col-md-2 text-end">
                    <p class="mb-0 fw-bold">₹{{this.total}}</p>
                  </div>
                </div>
              </div>
            </div>
            {{/each}}

            <div class="order-tracking mb-5">
              <h4 class="fw-bold mb-3" style="color: #333;">Order Status</h4>
              <div class="progress mb-3" style="height: 8px; border-radius: 20px;">
                <div class="progress-bar" role="progressbar"
                  style="width: 15%; border-radius: 20px; background-color: #007bff;" aria-valuenow="15"
                  aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              <div class="d-flex justify-content-between">
                <div class="step active">
                  <i class="fas fa-check-circle text-success"></i>
                  <p class="text-muted mb-0 small">Order Placed</p>
                </div>
                <div class="step">
                  <i class="fas fa-circle text-muted"></i>
                  <p class="text-muted mb-0 small">Shipped</p>
                </div>
                <div class="step">
                  <i class="fas fa-circle text-muted"></i>
                  <p class="text-muted mb-0 small">Out for delivery</p>
                </div>
                <div class="step">
                  <i class="fas fa-circle text-muted"></i>
                  <p class="text-muted mb-0 small">Delivered</p>
                </div>
              </div>
            </div>

            <div class="order-details mb-4">
              <h4 class="fw-bold mb-3" style="color: #333;">Order Details</h4>
              <div class="row">
                <div class="col-md-6">
                  <p class="mb-2"><strong>Order Date:</strong> <span class="text-muted">{{orderDate}}</span></p>
                  <p class="mb-2"><strong>Order Number:</strong> <span class="text-muted">ORD-{{orderNumber}}</span></p>
                  <p class="mb-2"><strong>Payment Method:</strong> <span class="text-muted">{{paymentMethod}}</span></p>
                </div>
                <div class="col-md-6">
                  <p class="mb-2"><strong>Subtotal:</strong> <span class="text-muted">₹{{subtotal}}</span></p>
                  <p class="mb-2"><strong>Shipping:</strong> <span class="text-muted">₹{{shippingCost}}</span></p>
                  <p class="mb-2"><strong>Tax:</strong> <span class="text-muted">₹{{taxAmount}}</span></p>
                </div>
              </div>
            </div>

            <div class="shipping-info mb-4">
              <h4 class="fw-bold mb-3" style="color: #333;">Shipping Information</h4>
              <p class="mb-1"><strong>{{shippingName}}</strong></p>
              <p class="mb-1 text-muted">{{shippingAddress}}</p>
              <p class="mb-1 text-muted">{{shippingCity}}, {{shippingState}} {{shippingZip}}</p>
              <p class="mb-1 text-muted">{{shippingCountry}}</p>
            </div>
          </div>
          <div class="card-footer border-0 px-4 py-4"
            style="background-color: #007bff; border-bottom-left-radius: 15px; border-bottom-right-radius: 15px;">
            <h4 class="d-flex align-items-center justify-content-end text-white mb-0">Total Paid: 
              <span class="display-4 ms-2 fw-bold">₹{{totalOrderAmount}}</span>
            </h4>
          </div>
        </div>
        <div class="text-center mt-4">
          <a href="/" class="btn btn-outline-secondary me-2">Continue Shopping</a>
          <button class="btn btn-primary" onclick="printReceipt()">Print Receipt</button>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  body {
    background-color: #f8f9fa;
    color: #333;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }

  .order-confirmation-section {
    padding: 3rem 0;
  }

  .order-card {
    background-color: #ffffff;
    border: none;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
  }

  .product-card {
    border-radius: 10px;
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0,0,0,0.1);
  }

  .image_wrapper {
    width: 100%;
    height: 100px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #f8f9fa;
    border-radius: 10px;
    padding: 10px;
  }

  .image_wrapper img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
  }

  .btn {
    border-radius: 25px;
    padding: 0.5rem 1.5rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    transition: all 0.3s ease;
  }

  .btn-outline-primary {
    color: #007bff;
    border-color: #007bff;
  }

  .btn-outline-primary:hover {
    background-color: #007bff;
    color: #ffffff;
  }

  .progress-bar {
    background-color: #007bff;
  }

  .step {
    text-align: center;
    position: relative;
    width: 25%;
  }

  .step i {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
  }

  .step.active i {
    color: #28a745;
  }

  @media (max-width: 768px) {
    .step p {
      font-size: 0.7rem;
    }
  }
</style>

<script>
  function printReceipt() {
    window.print();
  }
</script>